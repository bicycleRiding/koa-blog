(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabbar-home-home"],{"0717":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"main",style:{top:t.top,backgroundColor:t.backgroundColor}},[t._t("default")],2)},i=[]},"1a75":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{values:{type:Array,default:function(){return[]}}}};e.default=a},"218d":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".page-header-icon[data-v-cb0ecb7c]{font-size:%?45?%}",""]),t.exports=e},3307:function(t,e,n){"use strict";n.r(e);var a=n("8365"),r=n("6ab2");for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("509c");var o,u=n("f0c5"),s=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"cb0ecb7c",null,!1,a["a"],o);e["default"]=s.exports},3460:function(t,e,n){"use strict";n.r(e);var a=n("7848"),r=n("df27");for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o,u=n("f0c5"),s=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"114be634",null,!1,a["a"],o);e["default"]=s.exports},"3d62":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".main[data-v-5151b3c6]{position:-webkit-sticky;position:sticky;z-index:98}",""]),t.exports=e},"46ee":function(t,e,n){"use strict";var a=n("e844"),r=n.n(a);r.a},"4afa":function(t,e,n){var a=n("218d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("f2e35af6",a,!0,{sourceMap:!1,shadowMode:!1})},"509c":function(t,e,n){"use strict";var a=n("4afa"),r=n.n(a);r.a},"571f":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{top:{type:[String,Number],default:0},backgroundColor:{type:String,default:"white"}}};e.default=a},5748:function(t,e,n){var a=n("3d62");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("5d294d8c",a,!0,{sourceMap:!1,shadowMode:!1})},"6ab2":function(t,e,n){"use strict";n.r(e);var a=n("ff93"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},7848:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"px-2 flex align-center justify-between"},[n("v-uni-text",{staticClass:"font-md"},[t._v(t._s(t.title))]),n("v-uni-text",{staticClass:"secondary-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("action")}}},[t._v(t._s(t.actionTitle))])],1)},i=[]},"82cf":function(t,e,n){"use strict";n.r(e);var a=n("9647"),r=n("e861");for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("46ee");var o,u=n("f0c5"),s=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"eb2b99f6",null,!1,a["a"],o);e["default"]=s.exports},8365:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={cSticky:n("ab7f").default,cStatusBar:n("7613").default,cPageHeader:n("8b38").default,unicloudDb:n("960d").default,cErrorTip:n("4f57").default,cBanner:n("82cf").default,cDesc:n("3460").default,cPosts:n("4bc9").default,cScrollLoadMore:n("5555").default,cBackTop:n("8309").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("c-sticky",[n("c-status-bar"),n("c-page-header",{attrs:{title:"首页","can-back":!1}},[n("v-uni-view",[n("v-uni-text",{staticClass:"mr-5 iconfont icon-sousuo page-header-icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearchPage.apply(void 0,arguments)}}}),n("v-uni-text",{staticClass:"iconfont icon-bianji page-header-icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toEditorPage.apply(void 0,arguments)}}})],1)],1)],1),n("unicloud-db",{ref:"topics",attrs:{collection:"topics","page-size":4,field:"title,cover.url as url",orderby:"create_date desc"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.data,a=t.error;return[a?n("c-error-tip",{attrs:{msg:a.message}}):n("v-uni-view",[n("c-banner",{attrs:{values:e}})],1)]}}])}),n("c-desc",{attrs:{title:"实时"}}),n("unicloud-db",{ref:"posts",attrs:{collection:"posts,uni-id-users,topics",field:t.field,"page-size":3,orderby:"create_date desc"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data,r=e.loading,i=e.error,o=e.hasMore;return[i?n("c-error-tip",{attrs:{msg:i.message}}):n("v-uni-view",[n("c-posts",{attrs:{values:a},on:{countComment:function(e){arguments[0]=e=t.$handleEvent(e),t.countComment.apply(void 0,arguments)},praise:function(e){arguments[0]=e=t.$handleEvent(e),t.praise.apply(void 0,arguments)},love:function(e){arguments[0]=e=t.$handleEvent(e),t.love.apply(void 0,arguments)},toPost:function(e){arguments[0]=e=t.$handleEvent(e),t.toPostPage.apply(void 0,arguments)},toUser:function(e){arguments[0]=e=t.$handleEvent(e),t.toUserPage.apply(void 0,arguments)}}}),n("c-scroll-load-more",{attrs:{loading:r,hasMore:o}})],1)]}}])}),n("c-back-top",{attrs:{bottom:"calc(50px + 50rpx)"}})],1)},i=[]},"8a0d":function(t,e,n){"use strict";n.r(e);var a=n("571f"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},9647:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={cImage:n("2e58").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"main"},[n("v-uni-swiper",{attrs:{"indicator-dots":!0,autoplay:!0,circular:!0}},t._l(t.values,(function(e){return n("v-uni-swiper-item",{key:e._id},[n("v-uni-view",{staticClass:"m-4 position-relative"},[n("c-image",{staticClass:"cover rounded",attrs:{src:e.url}}),n("v-uni-text",{staticClass:"position-absolute text-white title"},[t._v(t._s(e.title))])],1)],1)})),1)],1)},i=[]},ab7f:function(t,e,n){"use strict";n.r(e);var a=n("0717"),r=n("8a0d");for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("ed1c");var o,u=n("f0c5"),s=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"5151b3c6",null,!1,a["a"],o);e["default"]=s.exports},b036:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{title:{type:String,default:"title"},actionTitle:String}};e.default=a},b154:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".main[data-v-eb2b99f6]{height:%?330?%}.cover[data-v-eb2b99f6]{width:%?670?%;height:%?250?%}.title[data-v-eb2b99f6]{top:0;right:%?20?%}",""]),t.exports=e},df27:function(t,e,n){"use strict";n.r(e);var a=n("b036"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},e844:function(t,e,n){var a=n("b154");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("aaada8ec",a,!0,{sourceMap:!1,shadowMode:!1})},e861:function(t,e,n){"use strict";n.r(e);var a=n("1a75"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},ed1c:function(t,e,n){"use strict";var a=n("5748"),r=n.n(a);r.a},ff93:function(t,e,n){"use strict";(function(t){var a=n("4ea4");n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var r=a(n("1da1")),i=a(n("bc58")),o={mixins:[i.default],data:function(){var e=t.getCurrentUserInfo(),n=e.uid,a="create_date,arrayElemAt(author.username, 0) as username,arrayElemAt(author._id, 0) as authorID,arrayElemAt(author.avatar, 0) as avatarUrl,title,imgs,topic_ids.title as topics,size(praise_user_ids._id) as praiseNum,in('".concat(n,"', praise_user_ids._id) as praiseStatus,size(love_user_ids._id) as loveNum,in('").concat(n,"', love_user_ids._id) as loveStatus");return{uid:n,field:a}},onReachBottom:function(){this.$refs.posts.loadMore()},onPullDownRefresh:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e){t.loadData&&t.loadData({clear:!0},e)}))},e.next=3,Promise.all([n(t.$refs.topics),n(t.$refs.posts)]);case 3:uni.$emit("countComment"),uni.stopPullDownRefresh();case 5:case"end":return e.stop()}}),e)})))()},destroyed:function(){uni.$off("countComment"),uni.$off("getPost")},methods:{countComment:function(t,e){var n=this,a=function(){var a=(0,r.default)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$A.comment.countTotalComment({_id:e});case 2:r=a.sent,t(r);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();uni.$on("countComment",a),a()},toUserPage:function(t){uni.setStorageSync("userDetail",t),uni.navigateTo({url:"/pages/user/user"})},toPostPage:function(t){uni.setStorageSync("post",t),uni.navigateTo({url:"/pages/post/post"})},toSearchPage:function(){uni.navigateTo({url:"/pages/search/search"})},toEditorPage:function(){uni.navigateTo({url:"/pages/editor/editor"})},praise:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var a,r,i,o,u,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.postID,r=t.praiseStatus,i=t.fail,o=t.success,u=t.complete,n.prev=1,s=e.$A.post.praise({uid:e.uid,postID:a,praiseStatus:r}),n.next=5,e.$U.delayRequest(s);case 5:o(),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),i(n.t0.message);case 11:return n.prev=11,u(),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})))()},love:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var a,r,i,o,u,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.postID,r=t.loveStatus,i=t.fail,o=t.success,u=t.complete,n.prev=1,s=e.$A.post.love({uid:e.uid,postID:a,loveStatus:r}),n.next=5,e.$U.delayRequest(s);case 5:o(),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),i(n.t0.message);case 11:return n.prev=11,u(),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})))()}}};e.default=o}).call(this,n("a9ff")["default"])}}]);